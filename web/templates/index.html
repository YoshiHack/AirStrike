{% extends 'base.html' %}

{% block title %}AirStrike - Dashboard{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header">Dashboard</div>
    <div class="card-body">
        {% if not sudo_configured %}
        <div class="alert alert-warning mb-4">
            <h4 class="alert-heading">Administrator Privileges Required</h4>
            <p>AirStrike needs administrator (sudo) privileges to perform WiFi operations like scanning networks and changing interface modes.</p>
            <hr>
            <p class="mb-0">
                <a href="{{ url_for('settings.sudo_auth', next=url_for('index')) }}" class="btn btn-warning">Configure Authentication</a>
            </p>
        </div>
        {% endif %}
        
        <div class="dashboard-stats" id="dashboard-stats">
            <div class="stat-card">
                <h3>Networks Scanned</h3>
                <div class="value" id="networks-count">0</div>
            </div>
            <div class="stat-card">
                <h3>Attacks Performed</h3>
                <div class="value" id="attacks-count">0</div>
            </div>
            <div class="stat-card">
                <h3>Handshakes Captured</h3>
                <div class="value" id="captures-count">0</div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">Quick Actions</div>
            <div class="card-body">
                <div class="quick-actions">
                    <a href="{{ url_for('scan.show_scan') }}" class="btn btn-primary">Scan Networks</a>
                    <a href="{{ url_for('attacks.show_attack') }}" class="btn btn-danger">Launch Attack</a>
                    <a href="{{ url_for('results.show_results') }}" class="btn btn-info">View Results</a>
                    <a href="{{ url_for('diagnostics.show_diagnostics') }}" class="btn btn-secondary">Run Diagnostics</a>
                </div>
            </div>
        </div>
        
        <div class="card">
            <div class="card-header">Recent Activity</div>
            <div class="card-body">
                <div id="recent-activity">
                    <p>No recent activity to display.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Update dashboard stats on page load
    document.addEventListener('DOMContentLoaded', function() {
        updateDashboardStats();
    });
</script>
{% endblock %}